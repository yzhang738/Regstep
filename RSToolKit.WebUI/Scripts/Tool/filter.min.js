function ClearFilterFields(){$("#filterEqualities").val("0");$("#filterValue").val("");$("#filterLink").val("0");$("#filterGrouped").attr("checked",!1)}function SetUpFilters(){var t;for(availableFilters=[],$("#filterFields").html(""),t=0;t<filters.length;t++)availableFilters.push(filters[t]),$("#filterFields").append('<option value="'+filters[t]+'">'+filters[t]+"<\/option>");var r=0,n="",i=!1;for(t=0;t<currentFilters.length;t++){i||(n+='<div class="row"><div class="filter-group col-sm-8 col-sm-offset-2"><span class="filter-group-heading">Group '+ ++r+"<\/span>");n+='<div class="row"><div class="col-sm-10 col-sm-offset-1 filter" data-index="'+t+'"><div class="col-xs-1"><span class="glyphicon glyphicon-filter"><\/span><\/div><div class="col-xs-10">'+currentFilters[t].ActingOn+" ";switch(currentFilters[t].Test){case 0:n+=" EQUALS ";break;case 1:n+=" NOT EQUALS ";break;case 2:n+=" GREATER THAN ";break;case 3:n+=" GREATER THAN OR EQUAL TO ";break;case 4:n+=" LESS THAN ";break;case 5:n+=" LESS THAN OR EQUAL TO ";break;case 6:n+=" IN ";break;case 7:n+=" NOT IN ";break;case 8:n+=" STARTS WITH ";break;case 9:n+=" CONTAINS ";break;case 10:n+=" ENDS WITH "}n+=currentFilters[t].Value;currentFilters[t].Link==0&&t<currentFilters.length-1&&(currentFilters[t].Link=1);switch(currentFilters[t].Link){case 1:n+=" AND";break;case 2:n+=" OR"}n+="<\/div><\/div><\/div>";currentFilters[t].GroupNext?i=!0:(n+="<\/div><\/div>",i=!1)}(currentFilters.length<1||currentFilters[currentFilters.length-1].GroupNext)&&(n+="<\/div><\/div>");currentFilters.length==0&&(grouptHtml="");$("#activeFilters").html(n);$(".filter").on("click",function(){EditFilter(parseInt($(this).attr("data-index")))})}function EditFilter(n){$("#filterFields").val(currentFilters[n].ActingOn);$("#filterEqualities").val(currentFilters[n].Test);$("#filterValue").val(currentFilters[n].Value);$("#filterLink").val(currentFilters[n].Link);$("#filterGrouped").prop("checked",currentFilters[n].GroupNext);$("#updateFilter").show();$("#addFilter").hide();updateFilterIndex=n}function compareFilter(n,t){return n.Priority-t.Priority}var filters=[],currentFilters=[],availableFilters=[],updateFilterIndex=-1;$(document).ready(function(){$("#addFilter").on("click",function(){var n=$("#filterFields > option:selected").val(),t=parseInt($("#filterEqualities > option:selected").val()),i=$("#filterValue").val(),r=parseInt($("#filterLink > option:selected").val()),u=$("#filterGrouped").is(":checked");currentFilters.push({ActingOn:n,Test:t,Value:i,Link:r,GroupNext:u,Priority:currentFilters.nextPriority()});SetUpFilters();ClearFilterFields()});$("#updateFilter").hide();$("#updateFilter").on("click",function(){$("#updateFilter").hide();$("#addFilter").show();var n=$("#filterFields > option:selected").val(),t=parseInt($("#filterEqualities > option:selected").val()),i=$("#filterValue").val(),r=parseInt($("#filterLink > option:selected").val()),u=$("#filterGrouped").is(":checked");currentFilters[updateFilterIndex].ActingOn=n;currentFilters[updateFilterIndex].Test=t;currentFilters[updateFilterIndex].Value=i;currentFilters[updateFilterIndex].Link=r;currentFilters[updateFilterIndex].GroupNext=u;SetUpFilters();ClearFilterFields()});$("#clearFilters").on("click",function(){while(currentFilters.length>0)currentFilters.pop();SetUpFilters()})});currentFilters.find=function(n){for(var t=0;t<this.length;t++)if(this[t].ActingOn==n)return t;return-1};currentFilters.nextPriority=function(){return this.length==0?1:(this.sort(compareFilter),this.checkPriorities(),this[this.length-1].Priority+1)};currentFilters.checkPriorities=function(){for(var t=0,n=0;n<this.length;n++)t==this[n].Priority?this[n].Priority=++t:t=this[n].Priority};
//# sourceMappingURL=filter.min.js.map
