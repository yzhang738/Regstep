function LoadReports(){$("#mainHolder > section").html('<div class="row"><div class="col-md-12"><h3 class="text-center">Loading Data...<\/h3><\/div><\/div>');var n="",t=searchInformation;$.ajax({url:"GetReports",type:"post",data:JSON.stringify(t),contentType:"application/json",dataType:"json",traditional:"true",success:function(t){var r,i,u;if(t.Success){for(reports=t.Nodes,searchInformation=t,filters=[];currentFilters.length>0;)currentFilters.pop();if(searchInformation.Filters!==null)for(i=0;i<searchInformation.Filters.length;i++)currentFilters.push(searchInformation.Filters[i]);if(reports.length<0)return;for($("#page").html(""),r=1;r<=searchInformation.TotalPages;r++)$("#page").append('<option value="'+r+'">'+r+"<\/option>");if($("#page").val(""+searchInformation.Page),reports.length==0){$("#mainHolder > section").html('<div class="row"><div class="col-md-12"><h3 class="text-center">No Reports Match The Criteria<\/h3><\/div><\/div>');return}for(n+='<div class="table-responsive table-responsive-medium"><table class="table table-striped table-reports-list"><thead class="dataHeader"><tr>',n+="<th>Name<\/th><th>Date Created<\/th>",n+="<\/tr><\/thead><tbody>",i=0;i<reports.length;i++)u=new moment(reports[i].DateCreated),n+='<tr><td><a href="'+window.location.origin+"/Cloud/PagedReport/"+reports[i].UId+'">'+reports[i].Name+"<\/a><\/td><td>"+u.format("YYYY MM DD HH:mm A")+"<\/td><\/tr>";n+="<\/tbody><\/table><\/div>";$("#mainHolder > section").html(n);SetUpFilters()}else $("#informationModal .modal-body").html('<div class="row"><div class="col-sm-10 col-sm-offset-1">'+t.Message+"<\/div><\/div>"),$("#informationModal").modal("show")},error:function(){$("#informationModal .modal-body").html('<div class="row"><div class="col-sm-10 col-sm-offset-1">Internal Server Error<\/div><\/div>');$("#informationModal").modal("show")}})}var searchInformation={Page:1,RecordsPerPage:25,Company:CurrentCompany,Sortings:[{ActingOn:"DateModified",Descending:!0,Priority:1}],Filters:null,TotalRecords:-1,TotalPages:-1},reports;$(document).ready(function(){LoadReports();$("#changeFilters").on("click",function(){$("#filterModal").modal("show")});$("#filterNow").on("click",function(){searchInformation.Filters=currentFilters;searchInformation.Page=1;LoadReports()});$("#newReport").on("click",function(){$("#informationModal .modal-title").html("Creating Report");$("#informationModal .modal-body").html('<div class="row"><div class="col-xs-8 col-xs-2">Creating report. You will be redirected when your report is ready.<\/div><\/div>');$("#informationModal").modal("show");$.ajax({url:"NewReport",type:"post",data:JSON.stringify({cid:CurrentCompany}),contentType:"application/json",dataType:"json",traditional:"true",success:function(n){n.Success?window.location="EditReport?cid="+CurrentCompany+"&rid="+n.UId:($("#informationModal .modal-title").html("Creating Report: Error"),$("#informationModal .modal-body").html('<div class="row"><div class="col-sm-10 col-sm-offset-1">'+n.Message+"<\/div><\/div>"))},error:function(){$("#informationModal .modal-title").html("Creating Report: Error");$("#informationModal .modal-body").html('<div class="row"><div class="col-sm-10 col-sm-offset-1">Internal Server Error<\/div><\/div>')}})})});
//# sourceMappingURL=Reports.min.js.map
